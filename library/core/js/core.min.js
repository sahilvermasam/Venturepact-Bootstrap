/*! ========================================================================
 * Core v1.0.0
 * Copyright 2014 pampersdry
 * ========================================================================
 *
 * pampersdry@gmail.com
 *
 * this script. This script will be use in my other projects too.
 * Your support ensure the continuity of this script and it projects.
 * ======================================================================== */
if("undefined"==typeof jQuery)throw new Error("This application requires jQuery");!function(a,b,c){function g(b,c){this.element=b,this.settings=a.extend({},f,c),this._defaults=f,this._name=e,this._version="1.0.0",this.init()}var e="Core",f={console:!0,eventPrefix:"fa"};g.prototype={init:function(){var a=this;yepnope([{test:Modernizr.input.placeholder,nope:{placeholder:"library/placeholder/js/placeholder.min.js"}},{test:Modernizr.canvas,nope:{excanvas:"library/excanvas/js/excanvas.min.js"}},{test:Modernizr.touch,yep:{fastclick:"library/fastclick/js/fastclick.min.js"},nope:{slimscroll:"library/slimscroll/js/slimscroll.min.js"},callback:function(b,c,d){"slimscroll"===d&&a.MISC.Scrollbar(),"fastclick"===d&&a.MISC.Fastclick()}},{load:["library/unveil/js/unveil.min.js","library/transit/js/transit.min.js","library/prettify/js/prettify.min.js","library/waypoints/js/waypoints.min.js"],complete:function(){a.PLUGINS(),a.LAYOUTS(),a.MISC.Init()}}])},HELPER:{Console:function(b){settings.console&&a(element).on(b,function(a,c){console.log("----- "+b+" -----"),console.log(c.element)})}},MISC:{Init:function(){this.Prettify(),this.Unveil(),this.BsTooltip(),this.BsPopover()},Scrollbar:function(){a(".slimscroll").slimScroll({size:"6px",distance:"0px",wrapperClass:"viewport",railClass:"scrollrail",barClass:"scrollbar",wheelStep:10,railVisible:!0,alwaysVisible:!0})},Fastclick:function(){FastClick.attach(c.body)},Prettify:function(){b.prettyPrint&&prettyPrint()},Unveil:function(){a("[data-toggle~=unveil]").unveil(200,function(){a(this).load(function(){a(this).addClass("unveiled")})})},BsTooltip:function(){a("[data-toggle~=tooltip]").tooltip()},BsPopover:function(){a("[data-toggle~=popover]").popover()}},LAYOUTS:function(){element=this.element,settings=this.settings},PLUGINS:function(){element=this.element,settings=this.settings,(ToTop=function(){var b="[data-toggle~=totop]";a(element).on("click",b,function(b){a("html, body").animate({scrollTop:0},200),b.preventDefault()})}).call(),(WayPoints=function(){var b="[data-toggle~=waypoints]";a(b).each(function(){var b,c,d,e,f=this;e=a(this).data("marker")?a(this).data("marker"):this,d=a(this).data("offset")?a(this).data("offset"):"95%",b=a(this).data("showanim")?a(this).data("showanim"):"fadeIn",c=a(this).data("hideanim")?a(this).data("hideanim"):!1,a(e).waypoint(function(d){"down"===d&&a(f).removeClass(c+" animated").addClass(b+" animating").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){a(this).removeClass("animating").addClass("animated").removeClass(b)}),"up"===d&&c!==!1&&a(f).removeClass(b+" animated").addClass(c+" animating").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){a(this).removeClass("animating").removeClass("animated").removeClass(c)})},{offset:d})})}).call(),(SelectRow=function(){function e(c,e){b=a(c).data("contextual")?a(c).data("contextual"):"active","checked"===e?(a(c).parents(d).addClass(b),a(element).trigger(settings.eventPrefix+".selectrow.selected",{element:a(c).parents(d)})):(a(c).parents(d).removeClass(b),a(element).trigger(settings.eventPrefix+".selectrow.unselected",{element:a(c).parents(d)}))}var b,c="[data-toggle~=selectrow]",d=a(c).data("target");a(c).each(function(){a(this).is(":checked")&&e(this,"checked")}),a(element).on("change",c,function(){a(this).is(":checked")?e(this,"checked"):e(this,"unchecked")}),g.prototype.HELPER.Console(settings.eventPrefix+".selectrow.selected"),g.prototype.HELPER.Console(settings.eventPrefix+".selectrow.unselected")}).call(),(CheckAll=function(){function e(){a(d).find("input[type=checkbox]").each(function(){a(this).prop("checked",!0),"selectrow"===a(this).data("toggle")&&(b=a(this).data("contextual")?a(this).data("contextual"):"active",a(this).parents(a(this).data("target")).addClass(b))}),a(element).trigger(settings.eventPrefix+".checkall.checked",{element:a(d)})}function f(){a(d).find("input[type=checkbox]").each(function(){a(this).prop("checked",!1),"selectrow"===a(this).data("toggle")&&(b=a(this).data("contextual")?a(this).data("contextual"):"active",a(this).parents(a(this).data("target")).removeClass(b))}),a(element).trigger(settings.eventPrefix+".checkall.unchecked",{element:a(d)})}var b,c="[data-toggle~=checkall]",d=a(c).data("target");a(c).each(function(){a(this).is(":checked")&&e()}),a(element).on("change",c,function(){a(this).is(":checked")?e():f()}),g.prototype.HELPER.Console(settings.eventPrefix+".checkall.checked"),g.prototype.HELPER.Console(settings.eventPrefix+".checkall.unchecked")}).call(),(PanelRefresh=function(){var b=!1,c="indicator",d="[data-toggle~=panelrefresh]";a(element).on("click",d,function(d){var e=a(this).parents(".panel"),f=e.find("."+c);b=a(this).hasClass("demo")?!0:!1,0!==f.length?(f.addClass("show"),b&&setTimeout(function(){f.removeClass("show")},2e3),a(element).trigger(settings.eventPrefix+".panelrefresh.refresh",{element:a(e)})):a.error("There is no `indicator` element inside this panel."),d.preventDefault()}),g.prototype.HELPER.Console(settings.eventPrefix+".panelrefresh.refresh")}).call(),(PanelCollapse=function(){var b="[data-toggle~=panelcollapse]";a(element).on("click",b,function(b){function f(b){a(b).removeClass("down").addClass("up"),a(d).removeClass("pull").addClass("pulling").css("height","0px").transition({height:e},function(){a(this).removeClass("pulling").addClass("pull out"),a(this).css({height:""})}),a(element).trigger(settings.eventPrefix+".panelcollapse.open",{element:a(c)})}function g(b){a(b).removeClass("up").addClass("down"),a(d).removeClass("pull out").addClass("pulling").css("height",e).transition({height:"0px"},function(){a(this).removeClass("pulling").addClass("pull"),a(this).css({height:""})}),a(element).trigger(settings.eventPrefix+".panelcollapse.close",{element:a(c)})}var c=a(this).parents(".panel"),d=c.children(".panel-collapse"),e=d.height();0===d.length&&a.error("collapsable element need to be wrap inside '.panel-collapse'"),a(d).hasClass("out")?g(this):f(this),b.preventDefault()}),g.prototype.HELPER.Console(settings.eventPrefix+".panelcollapse.open"),g.prototype.HELPER.Console(settings.eventPrefix+".panelcollapse.close")}).call(),(PanelRemove=function(){var b,c,d="[data-toggle~=panelremove]";a(element).on("click",d,function(d){b=a(this).parents(".panel"),c=a(this).data("parent"),b.transition({scale:0},function(){c?a(this).parents(c).remove():a(this).remove(),a(element).trigger(settings.eventPrefix+".panelcollapse.close",{element:a(b)})}),d.preventDefault()}),g.prototype.HELPER.Console(settings.eventPrefix+".panelremove.remove")}).call(),(SubMenu=function(){function e(b,c){a(c).data("parent")&&a(a(c).data("parent")+" .in").each(function(){f(this)}),a(b).collapse("show"),a(b).parent().addClass("open"),a(element).trigger(settings.eventPrefix+".submenu.open",{element:a(b)})}function f(b){a(b).collapse("hide"),a(b).parent().removeClass("open"),a(element).trigger(settings.eventPrefix+".submenu.close",{element:a(b)})}var b,c,d="[data-toggle~=submenu]";a(element).on("click",d,function(d){b=a(this).data("target"),c=a(b).height(),a(b).hasClass("in")?f(b):e(b,this),d.preventDefault()}),g.prototype.HELPER.Console(settings.eventPrefix+".submenu.open"),g.prototype.HELPER.Console(settings.eventPrefix+".submenu.close")}).call(),(Offcanvas=function(){function h(){return b=a(this).data("direction"),d="ltr"===b?".sidebar-left":".sidebar-right",(b===!1||""===b)&&a.error("missing `data-direction` value (ltr or rtl)"),a(element).hasClass(f+"-"+b)?j():i(),!1}function i(){a(element).addClass(f+"-"+b),a(element).trigger(settings.eventPrefix+".offcanvas.open",{element:a(d)})}function j(){a(element).hasClass(f+"-"+b)&&(a(element).removeClass(f+"-"+b),a(element).trigger(settings.eventPrefix+".offcanvas.close",{element:a(d)}))}var b,d,e="[data-toggle~=offcanvas]",f="sidebar-open";a(c).on("click",j).on("click",".sidebar,"+e,function(a){a.stopPropagation()}).on("click",e,h),g.prototype.HELPER.Console(settings.eventPrefix+".offcanvas.open"),g.prototype.HELPER.Console(settings.eventPrefix+".offcanvas.close")}).call(),(AjaxLoad=function(){var b,c,e={complete:"ajaxload-complete",start:"ajaxload-start",success:"ajaxload-success",error:"ajaxload-error"};toggler="[data-toggle~=ajaxload]",a(element).on("click",toggler,function(d){a(this).data("container")?b=a(a(this).data("container")):a.error("missing `data-container`"),a(toggler).each(function(){a(this).removeClass("active")}),a(this).addClass("active"),c=a(this).data("source")?a(this).data("source"):a(this).attr("href"),a(element).addClass(e.start).removeClass(e.complete).removeClass(e.success).removeClass(e.error);var f=a.ajax({type:"GET",url:c,context:a(element)});f.done(function(c){a(this).addClass(e.success).removeClass(e.complete).removeClass(e.start).removeClass(e.error),b.html(c)}),f.error(function(){a(this).addClass(e.error).removeClass(e.complete).removeClass(e.start).removeClass(e.success)}),f.always(function(){a(this).addClass(e.complete).removeClass(e.start)}),d.preventDefault()})}).call()}},a.fn[e]=function(b){return this.each(function(){a.data(this,e)||a.data(this,e,new g(this,b))})}}(jQuery,window,document);